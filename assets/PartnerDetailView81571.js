<<<<<<<< HEAD:assets/PartnerDetailView71670.js
import{d as D,l as M,a as d,c as k,w as m,b as C,e as o,i as f,s as z,r as h,m as $,o as E,q as B,k as u,f as c,t as x,v as _,x as O,F as j,y as b,z as P,R as w,j as L,_ as q}from"../index71670.js";import{u as G}from"./partner71670.js";import{V as K,s as H,c as J,a as Q}from"./ValidateInputText71670.js";import{s as U}from"./confirm-dialog71670.js";import{I as N,C as W}from"./CustomCardForm71670.js";import{_ as X}from"./AppBack.vue_vue_type_script_setup_true_lang71670.js";import"./index71670.js";const Y=D({__name:"PartnerDataCard",setup(v){const t=M(N.FORM_VALIDATION);return(i,n)=>{const r=H;return d(),k(W,null,{title:m(()=>n[0]||(n[0]=[C("Dati ")])),content:m(()=>[o(r,{class:"fluid-form-grid sm:grid-cols-3"},{default:m(()=>[o(K,{id:"name",name:"name",type:"text",label:"Nome*",detailMode:f(t)},null,8,["detailMode"])]),_:1})]),_:1})}}}),Z={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4"},ee={class:"flex items-center gap-4"},te={key:0},ae={class:"flex flex-row items-stretch gap-2"},re={key:0,class:"flex flex-row items-stretch gap-4"},se={key:1,class:"flex flex-row items-stretch gap-4"},oe=D({__name:"PartnerDetailView",props:{id:{}},setup(v){const t=v,i=G(),{currentPartner:n}=z(i),r=h(!1),l=h(!!t.id),{resetForm:T,handleSubmit:V}=$({validationSchema:J({name:Q().required("Nome Ã¨ obbligatorio")})});async function S(a){try{r.value=!0,await i.fetchPartnerDetail(a),T({values:{...n.value}}),r.value=!1}catch(e){console.error(e)}}async function F(a){try{await i.deletePartner(a),await P.replace({name:w.PARTNER})}catch(e){console.error(e)}}function I(){U({message:"Stai per eliminare un partner. Vuoi confermare l'operazione?",header:"Eliminazione partner",acceptCallback(){t.id&&F(t.id)}})}async function R(a,e){try{r.value=!0,await i.updatePartner(a,e),b("Partner aggiornato con successo"),l.value=!0}catch(s){console.error(s)}finally{r.value=!1}}async function A(a){var e;try{r.value=!0,await i.createPartner(a),(e=n.value)!=null&&e.id&&(b("Partner creato con successo"),P.push({name:w.PARTNER_DETTAGLIO,params:{id:n.value.id}}))}catch(s){console.error(s)}finally{r.value=!1}}const y=V(a=>{t.id?R(t.id,a):A(a)});return E(()=>{t.id&&S(t.id)}),B(N.FORM_VALIDATION,l),(a,e)=>{var g;const s=L;return d(),u(j,null,[o(X,{title:"Partner",url:"/partner"}),c("div",null,[c("form",{onSubmit:e[2]||(e[2]=(...p)=>f(y)&&f(y)(...p))},[c("div",Z,[c("div",ee,[c("h3",null,[C(x(t.id?"Dettaglio partner":"Nuovo partner")+" ",1),t.id?(d(),u("span",te," - "+x((g=f(n))==null?void 0:g.name),1)):_("",!0)])]),c("div",ae,[o(O,{name:"fade",mode:"out-in"},{default:m(()=>[l.value?t.id?(d(),u("div",se,[o(s,{label:"Modifica",class:"self-center",size:"small",variant:"outlined",severity:"contrast",rounded:"",onClick:e[1]||(e[1]=p=>l.value=!l.value)}),o(s,{class:"self-center",severity:"danger",size:"small",label:"Elimina",rounded:"",variant:"outlined",onClick:I})])):_("",!0):(d(),u("div",re,[t.id?(d(),k(s,{key:0,severity:"secondary",label:"Annulla","icon-pos":"right",onClick:e[0]||(e[0]=p=>l.value=!0),size:"small"})):_("",!0),o(s,{label:"Salva",type:"submit",loading:r.value,disabled:r.value,"icon-pos":"right",size:"small"},null,8,["loading","disabled"])]))]),_:1})])]),o(Y)],32)])],64)}}}),fe=q(oe,[["__scopeId","data-v-ecfbf65f"]]);export{fe as default};
========
import{d as D,l as M,a as d,c as k,w as m,b as C,e as o,i as f,s as z,r as h,m as $,o as E,q as B,k as u,f as c,t as x,v as _,x as O,F as j,y as P,z as b,R as w,j as L,_ as q}from"../index81571.js";import{u as G}from"./partner81571.js";import{V as K,s as H,c as J,a as Q}from"./ValidateInputText81571.js";import{s as U}from"./confirm-dialog81571.js";import{I as N,C as W}from"./CustomCardForm81571.js";import{_ as X}from"./AppBack.vue_vue_type_script_setup_true_lang81571.js";import"./index81571.js";const Y=D({__name:"PartnerDataCard",setup(v){const t=M(N.FORM_VALIDATION);return(i,n)=>{const r=H;return d(),k(W,null,{title:m(()=>n[0]||(n[0]=[C("Dati ")])),content:m(()=>[o(r,{class:"fluid-form-grid sm:grid-cols-3"},{default:m(()=>[o(K,{id:"name",name:"name",type:"text",label:"Nome*",detailMode:f(t)},null,8,["detailMode"])]),_:1})]),_:1})}}}),Z={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4"},ee={class:"flex items-center gap-4"},te={key:0},ae={class:"flex flex-row items-stretch gap-2"},re={key:0,class:"flex flex-row items-stretch gap-4"},se={key:1,class:"flex flex-row items-stretch gap-4"},oe=D({__name:"PartnerDetailView",props:{id:{}},setup(v){const t=v,i=G(),{currentPartner:n}=z(i),r=h(!1),l=h(!!t.id),{resetForm:T,handleSubmit:V}=$({validationSchema:J({name:Q().required("Nome Ã¨ obbligatorio")})});async function S(a){try{r.value=!0,await i.fetchPartnerDetail(a),T({values:{...n.value}}),r.value=!1}catch(e){console.error(e)}}async function F(a){try{await i.deletePartner(a),await b.replace({name:w.PARTNER})}catch(e){console.error(e)}}function I(){U({message:"Stai per eliminare un partner. Vuoi confermare l'operazione?",header:"Eliminazione partner",acceptCallback(){t.id&&F(t.id)}})}async function R(a,e){try{r.value=!0,await i.updatePartner(a,e),P("Partner aggiornato con successo"),l.value=!0}catch(s){console.error(s)}finally{r.value=!1}}async function A(a){var e;try{r.value=!0,await i.createPartner(a),(e=n.value)!=null&&e.id&&(P("Partner creato con successo"),b.push({name:w.PARTNER_DETTAGLIO,params:{id:n.value.id}}))}catch(s){console.error(s)}finally{r.value=!1}}const y=V(a=>{t.id?R(t.id,a):A(a)});return E(()=>{t.id&&S(t.id)}),B(N.FORM_VALIDATION,l),(a,e)=>{var g;const s=L;return d(),u(j,null,[o(X,{title:"Partner",url:"/partner"}),c("div",null,[c("form",{onSubmit:e[2]||(e[2]=(...p)=>f(y)&&f(y)(...p))},[c("div",Z,[c("div",ee,[c("h3",null,[C(x(t.id?"Dettaglio partner":"Nuovo partner")+" ",1),t.id?(d(),u("span",te," - "+x((g=f(n))==null?void 0:g.name),1)):_("",!0)])]),c("div",ae,[o(O,{name:"fade",mode:"out-in"},{default:m(()=>[l.value?t.id?(d(),u("div",se,[o(s,{label:"Modifica",class:"self-center",size:"small",variant:"outlined",severity:"contrast",rounded:"",onClick:e[1]||(e[1]=p=>l.value=!l.value)}),o(s,{class:"self-center",severity:"danger",size:"small",label:"Elimina",rounded:"",variant:"outlined",onClick:I})])):_("",!0):(d(),u("div",re,[t.id?(d(),k(s,{key:0,severity:"secondary",label:"Annulla","icon-pos":"right",onClick:e[0]||(e[0]=p=>l.value=!0),size:"small"})):_("",!0),o(s,{label:"Salva",type:"submit",loading:r.value,disabled:r.value,"icon-pos":"right",size:"small"},null,8,["loading","disabled"])]))]),_:1})])]),o(Y)],32)])],64)}}}),fe=q(oe,[["__scopeId","data-v-c9871991"]]);export{fe as default};
>>>>>>>> 77b4e6425207416f84c821f9ea569f0463b06a11:assets/PartnerDetailView81571.js
