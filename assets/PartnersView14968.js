import{d as x,s as b,_ as S,a9 as P,o as g,E as B,K as n,b as $,f as t,a as l,O as C,F as K,M as I,u as a,ab as T,y as N,a3 as A,a2 as O,c as U,t as j}from"../index14968.js";import{b as G}from"./index149682.js";import{s as Q}from"./index14968.js";import{u as W,T as w,L as q}from"./LazyDataTable14968.js";import{u as R}from"./partner14968.js";import"./index149683.js";import"./index149684.js";const H={class:"flex items-center gap-x-2"},J={class:"flex items-center justify-center"},y=10,X=x({__name:"PartnerTable",setup(E){const s=R(),{partners:i,totalPartners:c}=b(s),{onSort:m,onPage:f,onFilter:u,loadLazyData:F,isLoading:V}=W({rows:y},k),p=S({id:{value:"",matchMode:w.EQ},name:{value:"",matchMode:w.LIKE}});async function k(r){try{await s.fetchPartners(r)}catch(o){console.error(o)}}function z(){u(p.value)}const D=function(r){return{name:T.PARTNER_DETTAGLIO,params:{id:r}}};return P(()=>{F()}),(r,o)=>{const L=Q,_=N,v=G,M=A;return g(),B(q,{value:a(i),loading:a(V),rows:y,"total-records":a(c),onSort:a(m),onPage:a(f),onFilter:z,filters:p.value,"onUpdate:filters":o[0]||(o[0]=e=>p.value=e),"data-key":"id",scrollable:""},{empty:n(()=>o[1]||(o[1]=[$("Non ci sono partner")])),default:n(()=>[t(v,{header:"Nome",field:"name",showFilterMatchModes:!1,showFilterOperator:!1,showFilterMenu:!1,"show-clear-button":!1},{filter:n(({filterModel:e,filterCallback:h})=>[l("div",H,[t(L,{class:"w-[200px]",modelValue:e.value,"onUpdate:modelValue":d=>e.value=d,fluid:"",type:"text",placeholder:"Filtra",onKeydown:C(d=>h(),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeydown"]),t(_,{class:K(e.value?"":"invisible"),icon:"pi pi-filter-slash",variant:"text",rounded:"",onClick:d=>{e.value="",h()}},null,8,["class","onClick"])])]),_:1}),t(v,{class:"w-[50px]","align-frozen":"right",frozen:""},{body:n(({data:e})=>[l("div",J,[I(t(_,{type:"button","aria-haspopup":"true","aria-controls":"overlay_menu",icon:"pi pi-arrow-right",text:"",rounded:"",as:"router-link",to:D(e.id)},null,8,["to"]),[[M,"Modifica",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading","total-records","onSort","onPage","filters"])}}}),Y={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4"},ne=x({__name:"PartnersView",setup(E){const s=R(),{total_records:i}=b(s),c=O(()=>({name:T.PARNTER_NEW}));return P(()=>{}),(m,f)=>{const u=N;return g(),U("div",null,[l("div",Y,[l("h1",null,j(a(i))+" Partner",1),t(u,{label:"Inserisci partner",size:"large",as:"router-link",to:c.value},null,8,["to"])]),t(X)])}}});export{ne as default};
