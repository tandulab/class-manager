import{d as y,s as P,r as D,o as g,a as T,c as M,w as r,b as C,e as t,f as l,g as L,n as I,h as K,i as a,R as b,j as R,T as j,p as A,k as U,t as O}from"../index49648.js";import{u as G,T as w,_ as Q,s as W}from"./LazyDataTable.vue_vue_type_script_setup_true_lang49648.js";import{s as q}from"./index49648.js";import{u as N}from"./partner49648.js";import"./index496482.js";const H={class:"flex items-center gap-x-2"},J={class:"flex items-center justify-center"},x=10,X=y({__name:"PartnerTable",setup(k){const s=N(),{partners:i,totalPartners:c}=P(s),{onSort:m,onPage:f,onFilter:u,loadLazyData:V,isLoading:E}=G({rows:x},F),d=D({id:{value:"",matchMode:w.EQ},name:{value:"",matchMode:w.LIKE}});async function F(n){try{await s.fetchPartners(n)}catch(o){console.error(o)}}function S(){u(d.value)}const $=function(n){return{name:b.PARTNER_DETTAGLIO,params:{id:n}}};return g(()=>{V()}),(n,o)=>{const z=q,_=R,v=W,B=j;return T(),M(Q,{value:a(i),loading:a(E),rows:x,"total-records":a(c),onSort:a(m),onPage:a(f),onFilter:S,filters:d.value,"onUpdate:filters":o[0]||(o[0]=e=>d.value=e),"data-key":"id",scrollable:""},{empty:r(()=>o[1]||(o[1]=[C("Non ci sono partner")])),default:r(()=>[t(v,{header:"Nome",field:"name",showFilterMatchModes:!1,showFilterOperator:!1,showFilterMenu:!1,"show-clear-button":!1},{filter:r(({filterModel:e,filterCallback:h})=>[l("div",H,[t(z,{class:"w-[200px]",modelValue:e.value,"onUpdate:modelValue":p=>e.value=p,fluid:"",type:"text",placeholder:"Filtra",onKeydown:L(p=>h(),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeydown"]),t(_,{class:I(e.value?"":"invisible"),icon:"pi pi-filter-slash",variant:"text",rounded:"",onClick:p=>{e.value="",h()}},null,8,["class","onClick"])])]),_:1}),t(v,{class:"w-[50px]","align-frozen":"right",frozen:""},{body:r(({data:e})=>[l("div",J,[K(t(_,{type:"button","aria-haspopup":"true","aria-controls":"overlay_menu",icon:"pi pi-arrow-right",text:"",rounded:"",as:"router-link",to:$(e.id)},null,8,["to"]),[[B,"Modifica",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading","total-records","onSort","onPage","filters"])}}}),Y={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4"},se=y({__name:"PartnersView",setup(k){const s=N(),{total_records:i}=P(s),c=A(()=>({name:b.PARTNER_NEW}));return g(()=>{}),(m,f)=>{const u=R;return T(),U("div",null,[l("div",Y,[l("h3",null,O(a(i))+" Partner",1),t(u,{label:"Inserisci partner",as:"router-link",to:c.value,variant:"outlined",severity:"contrast",rounded:"",size:"small"},null,8,["to"])]),t(X)])}}});export{se as default};
