import{ad as f,af as m,aU as D,a4 as A,a5 as T,s as E,ai as U,_ as i,a$ as b,b0 as x,a2 as p,$ as G,ag as o}from"../index91733.js";class s{static async fetchPartners(a){return await f("/partners",a)}static async fetchPartnerDetail(a,t){return await f(`/partners/${a}`,t)}static async createPartner(a){return await m("/partners",a)}static async updatePartner(a,t){return await D(`/partners/${a}`,t)}static async deletePartner(a){await A(`/partners/${a}`)}}const K=T("partner-store",()=>{const{isAdmin:P,user:a}=E(U()),t=i([]),n=i(null),c=i(0),u=b(x.PARTNER_ROUTE,{...a.value.partner}),v=p(()=>P.value?t.value:[a.value.partner]),d=p(()=>c.value),y=p(()=>n.value);async function w(e){const r=await s.fetchPartners(e);t.value=r.partners,c.value=r.total_records}async function h(e,r){const l=await s.fetchPartnerDetail(e,r);n.value=l.partner}async function R(e){const r=await s.createPartner(e);n.value=r.partner}async function S(e,r){const l=await s.updatePartner(e,r);n.value=l.partner}async function $(e){await s.deletePartner(e)}function _(e){u.value=e}function g(){t.value=[],n.value=null,c.value=0}return G(()=>a,e=>{u.value={...e.value.partner}}),{partners:o(t),partner:o(t),total_records:o(c),partnerRoute:o(u),totalPartners:d,allPartners:v,currentPartner:y,fetchPartners:w,fetchPartnerDetail:h,createPartner:R,updatePartner:S,deletePartner:$,changePartnerInRoute:_,$reset:g}});export{K as u};
